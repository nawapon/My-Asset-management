<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Technician Dashboard | ระบบแจ้งซ่อม</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body class="hold-transition sidebar-mini tech-page">
<div class="wrapper">

  <nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <ul class="navbar-nav"><li class="nav-item"><a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a></li></ul>
    <ul class="navbar-nav ml-auto">
      <li class="nav-item"><span class="navbar-text mr-3" id="welcomeMessage"></span></li>
      <li class="nav-item"><button id="logoutButton" class="btn btn-danger btn-sm"><i class="fas fa-sign-out-alt"></i> ออกจากระบบ</button></li>
    </ul>
  </nav>

  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <a href="#" class="brand-link"><i class="fas fa-wrench brand-image img-circle elevation-3" style="opacity: .8"></i><span class="brand-text font-weight-light">Technician Panel</span></a>
    <div class="sidebar">
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
          <li class="nav-item">
            <a href="#" class="nav-link active">
              <i class="nav-icon fas fa-tasks"></i><p>คิวงานช่าง</p>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </aside>

  <div class="content-wrapper">
    <section class="content-header">
        <div class="container-fluid">
            <h1><i class="fas fa-tasks"></i> คิวงานช่าง</h1>
        </div>
    </section>

    <section class="content">
      <div class="container-fluid">
        <div id="repair-queue-view">
          <div class="kanban-board">
            <div class="kanban-column">
              <div class="kanban-column-header bg-warning">รอรับเรื่อง (Pending)</div>
              <div class="kanban-column-body" id="pending-column"></div>
            </div>
            <div class="kanban-column">
              <div class="kanban-column-header bg-primary">กำลังดำเนินการ (In Progress)</div>
              <div class="kanban-column-body" id="inprogress-column"></div>
            </div>
            <div class="kanban-column">
              <div class="kanban-column-header bg-success">ซ่อมสำเร็จ (Completed)</div>
              <div class="kanban-column-body" id="completed-column"></div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>

<!-- Tech Repair Management Modal -->
<div class="modal fade" id="techRepairModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-info">
                <h5 class="modal-title" id="techRepairModalTitle">จัดการงานซ่อม</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                <form id="techRepairForm">
                    <input type="hidden" id="repairId">
                    <h6><i class="fas fa-info-circle"></i> รายละเอียดการแจ้งซ่อม</h6>
                    <dl class="row">
                        <dt class="col-sm-3">เลขครุภัณฑ์:</dt><dd class="col-sm-9" id="modalAssetNumber"></dd>
                        <dt class="col-sm-3">ผู้แจ้ง:</dt><dd class="col-sm-9" id="modalRequestUser"></dd>
                        <dt class="col-sm-3">สถานที่/เบอร์ติดต่อ:</dt><dd class="col-sm-9" id="modalContactInfo"></dd>
                        <dt class="col-sm-3">ปัญหาที่แจ้ง:</dt><dd class="col-sm-9" id="modalProblem"></dd>
                        <dt class="col-sm-3">วันที่แจ้ง:</dt><dd class="col-sm-9" id="modalRequestDate"></dd>
                    </dl>
                    <hr>
                    <h6><i class="fas fa-edit"></i> บันทึกการแก้ไขและอัปเดตสถานะ</h6>
                    <div class="form-group">
                        <label for="solutionNotes">บันทึกการซ่อม</label>
                        <textarea id="solutionNotes" class="form-control" rows="3" placeholder="อธิบายวิธีการแก้ไขปัญหา..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="modalStatus">อัปเดตสถานะ</label>
                        <select id="modalStatus" class="form-control">
                            <option value="Pending">รอรับเรื่อง</option>
                            <option value="In Progress">กำลังดำเนินการ</option>
                            <option value="Completed">ซ่อมสำเร็จ</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default" data-dismiss="modal">ปิด</button>
                <button type="submit" form="techRepairForm" class="btn btn-info"><i class="fas fa-save"></i> บันทึกการเปลี่ยนแปลง</button>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>
<script src="app.js"></script>
</body>
</html>

